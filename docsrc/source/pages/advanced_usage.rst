==============
Advanced Usage
==============

A set of options is available in order to adapt the report generated.

General settings
----------------

.. csv-table::
   :file: config_general.csv
   :widths: 30, 200, 200, 200
   :header-rows: 1

The configuration can be changed in the following ways:

.. code-block:: python
  :caption: Configuration example

  # Change the config when creating the report
  profile = df.profile_report(title="Pandas Profiling Report", pool_size=1)

  # Change the config after
  profile.set_variable("html.minify_html", False)

  profile.to_file("output.html")

Variable summary settings
-------------------------

.. csv-table::
   :file: config_variables.csv
   :widths: 30, 200, 200, 200
   :header-rows: 1


.. code-block:: python
  :caption: Configuration example

  profile = df.profile_report(
  	sort='ascending',
  	vars={
	    'num':{'low_categorical_threshold': 0},
	    'cat':{
	      'length':True,
	      'characters':False,
	      'words':False,
	      'n_obs': 5,
	    }
  	}
  )

  profile.set_variable('variables.descriptions',
      {
        'files': 'Files in the filesystem',
        'datec': 'Creation date',
        'datem': 'Modification date',
      }
  )

  profile.to_file("report.html")


Missing data overview plots
---------------------------

.. csv-table::
   :file: config_missing.csv
   :widths: 30, 200, 200, 200
   :header-rows: 1

.. code-block:: python
  :caption: Configuration example: disable heatmap and dendrogram for large datasets

  profile = df.profile_report(
  	missing_diagrams={
	    'heatmap': False,
	    'dendrogram': False,
  	}
  )
  profile.to_file("report.html")

The missing data diagrams are generated by the `missingno <https://github.com/ResidentMario/missingno>`_ package.

Correlations
------------

.. csv-table::
   :file: config_correlations.csv
   :widths: 30, 200, 200, 200
   :header-rows: 1

Disable all correlations:

.. code-block:: python

   profile = df.profile_report(
        title="Report without correlations",
        correlations={
            "pearson": {"calculate": False},
            "spearman": {"calculate": False},
            "kendall": {"calculate": False},
            "phi_k": {"calculate": False},
            "cramers": {"calculate": False},
        },
    )

    # or using a shorthand that is available for correlations
       profile = df.profile_report(
        title="Report without correlations",
        correlations=None,
    )

Interactions
------------

.. csv-table::
   :file: config_interactions.csv
   :widths: 30, 200, 200, 200
   :header-rows: 1

Spark
____________
.. csv-table::
   :file: config_spark.csv
   :widths: 30, 200, 200, 200
   :header-rows: 1

The HTML Report
---------------

.. csv-table::
   :file: config_html.csv
   :widths: 30, 200, 200, 200
   :header-rows: 1

Using a custom configuration file
---------------------------------

To set the configuration of pandas-profiling using a custom file, you can start one of the sample configuration files below.
Then, change the configuration to your liking.

.. code-block:: python

  from pandas_profiling import ProfileReport

  profile = ProfileReport(df, config_file="your_config.yml")
  profile.to_file("report.html")

Sample configuration files
--------------------------
A great way to get an overview of the possible configuration is to look through sample configuration files.
The repository contains the following files:

- `default configuration file <https://github.com/pandas-profiling/pandas-profiling/blob/master/src/pandas_profiling/config_default.yaml>`_ (default),
- `minimal configuration file <https://github.com/pandas-profiling/pandas-profiling/blob/master/src/pandas_profiling/config_minimal.yaml>`_ (minimal computation, optimized for performance)

Configuration shorthands
------------------------

It's possible to disable certain groups of features through configuration shorthands.

.. code-block:: python

    # Disable samples, correlations, missing diagrams and duplicates at once
    r = ProfileReport(samples=None, correlations=None, missing_diagrams=None, duplicates=None, interactions=None)

    # Or use the .set_variable method
    r = ProfileReport()
    r.set_variable("samples", None)
    r.set_variable("duplicates", None)
    r.set_variable("correlations", None)
    r.set_variable("missing_diagrams", None)
    r.set_variable("interactions", None)
